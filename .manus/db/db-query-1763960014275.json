{
  "query": "CREATE TABLE IF NOT EXISTS categories (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  name TEXT NOT NULL,\n  type ENUM('expense', 'income', 'transfer', 'investment') NOT NULL,\n  color VARCHAR(20),\n  icon VARCHAR(50),\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id)\n);\n\nCREATE TABLE IF NOT EXISTS transactions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  accountId INT NOT NULL,\n  categoryId INT,\n  type ENUM('expense', 'income', 'transfer', 'investment') NOT NULL,\n  description TEXT NOT NULL,\n  amount INT NOT NULL,\n  currencyCode VARCHAR(10) NOT NULL,\n  direction ENUM('debit', 'credit') NOT NULL,\n  date DATE NOT NULL,\n  relatedAccountId INT,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (accountId) REFERENCES accounts(id),\n  FOREIGN KEY (categoryId) REFERENCES categories(id),\n  FOREIGN KEY (currencyCode) REFERENCES currencies(code),\n  FOREIGN KEY (relatedAccountId) REFERENCES accounts(id)\n);\n\nCREATE TABLE IF NOT EXISTS investmentPositions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  accountId INT NOT NULL,\n  symbol VARCHAR(20) NOT NULL,\n  name TEXT NOT NULL,\n  quantity INT NOT NULL,\n  averagePrice INT NOT NULL,\n  currentPrice INT NOT NULL,\n  currencyCode VARCHAR(10) NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (accountId) REFERENCES accounts(id),\n  FOREIGN KEY (currencyCode) REFERENCES currencies(code)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3e94MxajmJpDPpj.root --database 3Z9qJW8r4BMRmta4EXnoYE --execute CREATE TABLE IF NOT EXISTS categories (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  name TEXT NOT NULL,\n  type ENUM('expense', 'income', 'transfer', 'investment') NOT NULL,\n  color VARCHAR(20),\n  icon VARCHAR(50),\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id)\n);\n\nCREATE TABLE IF NOT EXISTS transactions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  accountId INT NOT NULL,\n  categoryId INT,\n  type ENUM('expense', 'income', 'transfer', 'investment') NOT NULL,\n  description TEXT NOT NULL,\n  amount INT NOT NULL,\n  currencyCode VARCHAR(10) NOT NULL,\n  direction ENUM('debit', 'credit') NOT NULL,\n  date DATE NOT NULL,\n  relatedAccountId INT,\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (accountId) REFERENCES accounts(id),\n  FOREIGN KEY (categoryId) REFERENCES categories(id),\n  FOREIGN KEY (currencyCode) REFERENCES currencies(code),\n  FOREIGN KEY (relatedAccountId) REFERENCES accounts(id)\n);\n\nCREATE TABLE IF NOT EXISTS investmentPositions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  accountId INT NOT NULL,\n  symbol VARCHAR(20) NOT NULL,\n  name TEXT NOT NULL,\n  quantity INT NOT NULL,\n  averagePrice INT NOT NULL,\n  currentPrice INT NOT NULL,\n  currencyCode VARCHAR(10) NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (accountId) REFERENCES accounts(id),\n  FOREIGN KEY (currencyCode) REFERENCES currencies(code)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2779
}